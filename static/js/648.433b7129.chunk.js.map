{"version":3,"file":"static/js/648.433b7129.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/24/outline/esm/UserMinusIcon.js","pages/administrator/accounts/index.js"],"sourcesContent":["import * as React from \"react\";\nfunction UserMinusIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z\"\n  }));\n}\nconst ForwardRef = React.forwardRef(UserMinusIcon);\nexport default ForwardRef;","import React from 'react'\nimport { useDeleteUserMutation, useGetStudentProfilesQuery, useGetUsersQuery, useUpdateUserMutation } from '../../../service'\nimport UserMinusIcon from '@heroicons/react/24/outline/UserMinusIcon'\nimport UserPlusIcon from '@heroicons/react/24/outline/UserPlusIcon'\nimport PencilSquareIcon from '@heroicons/react/24/outline/PencilSquareIcon'\nimport { useNavigate } from 'react-router-dom'\nimport CheckBadgeIcon from '@heroicons/react/24/outline/CheckBadgeIcon'\nimport { toast } from 'react-toastify'\n\n\n\nfunction Accounts() {\n  const usersQuery = useGetUsersQuery();\n  const navigate  = useNavigate()\n  const [deleteUser] = useDeleteUserMutation();\n  const [updateUser] = useUpdateUserMutation();\n  const studentProfileQuery = useGetStudentProfilesQuery()\n  const handelDeletClick = (id) => {\n    deleteUser(id)\n    .unwrap()\n    .then(fulfilled => {\n      notifySuccess('Successfully Deleted the user')\n    })\n    .catch(rejected => {\n      console.error(rejected)\n      notifyError('Error  when Deleteing the user')\n    })\n  }\n  const notifySuccess = (str) => toast(str, {type:'success'});\n  const notifyError = (str) => toast(str, {type:'error'});\n\n  const handelIsActiveClick = (id, is_active) => {\n\n    updateUser({\n      id,\n      is_active\n    })\n    .unwrap()\n    .then(fulfilled => {\n      notifySuccess('Successfully changed is active for the user')\n    })\n    .catch(rejected => {\n      console.error(rejected)\n      notifyError('Error  when changeing is active for the user')\n    })\n  }\n\n  if(usersQuery.isSuccess && studentProfileQuery.isSuccess) {\n    const students = usersQuery.data.filter(u=>u.type === \"STUDENT\").map(\n      (e, index)=> {\n        const profile = studentProfileQuery.data.filter(p=> p.user == e.id)[0];\n        \n      return (\n        <tr key={index}>\n          <th>{index}</th>\n          <td>{e.first_name} {e.last_name}</td>\n          <td>{e.email}</td>\n          <td>{profile?.is_group_leader?'Leader':''}</td>\n          <td>\n            {\n              e.is_active ?\n              <CheckBadgeIcon color='green' width={32} /> :\n              <CheckBadgeIcon color='red' width={32} />\n            }\n          </td>\n          \n          <td>\n          <div className=\"btn-group\">\n            <button \n              title='Delete Student'\n              className=\"btn btn-error \"\n              onClick={()=>{handelDeletClick(e.id)}} >\n                <UserMinusIcon className={`h-6 w-6`} />\n              </button>\n            <button \n              title='Edit Student Info'\n              className=\"btn btn-info \"\n              onClick={()=>{\n                navigate(`/app/students/edit/${e.id}`);\n              }} >\n              <PencilSquareIcon className={`h-6 w-6`} />\n            </button>\n            <button\n              title='Confirm/uncofirm account'\n              onClick={()=>{\n                handelIsActiveClick(e.id, !e.is_active)\n              }} \n              className=\"btn btn-warning \">\n              <CheckBadgeIcon className={`h-6 w-6`} />\n            </button>\n          </div>\n          </td>\n        </tr>\n      )\n      }\n    )\n    const supervisors = usersQuery.data.filter(u=>u.type === \"SUPERVISOR\").map(\n      (e, index)=> {\n      return (\n        <tr key={index}>\n          <th>{index}</th>\n          <td>{e.first_name} {e.last_name}</td>\n          <td>{e.email}</td>\n          <td>{\n            e.is_active ?\n            <CheckBadgeIcon color='green' width={32} />:\n            <CheckBadgeIcon color='red' width={32} />\n            }\n          </td>\n          <td>\n          <div className=\"btn-group\">\n            <button \n              title='Delete Supervisor'\n              className=\"btn btn-error \"\n              onClick={()=>{handelDeletClick(e.id)}} >\n              <UserMinusIcon className={`h-6 w-6`} />\n            </button>\n            <button \n              title='Edit Supervisor Info'\n              onClick={()=>{\n                navigate(`/app/supervisors/edit/${e.id}`);\n              }} \n              className=\"btn btn-info \">\n              <PencilSquareIcon className={`h-6 w-6`} />\n            </button>\n            <button \n              title='Confirm/uncofirm account'\n              onClick={()=>{\n                handelIsActiveClick(e.id, !e.is_active)\n              }} \n              className=\"btn btn-warning \">\n              <CheckBadgeIcon className={`h-6 w-6`} />\n            </button>\n          </div>\n          </td>\n        </tr>\n      )\n      }\n    )\n\n    const handleAddStudentClick = () => {\n      console.log('add student click');\n      navigate('/app/students/add')\n\n    }\n    \n\n    const handleAddSupervisorClick = () => {\n      console.log('add supervisor click');\n      \n      navigate('/app/supervisors/add')\n    }\n    return (\n      <div className=\"w-full p-4 h-full bg-base-200 overflow-y-scroll\">\n        <div className='flex flex-col m-4 '>\n          <div className=\"card bg-base-100 shadow-xl mb-4\">\n           <div className=\"card-body items-center flex flex-row\">\n              <h1 className='font-semibold '\n              onClick={()=>notifySuccess('Hello')}\n              >Students</h1>\n              <button \n                onClick={handleAddStudentClick}\n                className=\"btn btn-success btn-circle\">\n                <UserPlusIcon className={`h-6 w-6`}/>\n              </button>\n            </div>\n          </div>\n          <div className=\"card bg-base-100 shadow-xl\">\n            <div className=\"card-body\">\n            <table className=\"table w-full\">\n               <thead>\n                <tr>\n                  <th></th>\n                  <th>ful name</th>\n                  <th>email</th>\n                  <th>Groupe Leader</th>\n                  <th>Active</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {students}\n              </tbody>\n              </table>\n             </div>\n          </div>\n          \n        </div>\n        <div className='flex flex-col m-4 '>\n        <div className=\"card bg-base-100 shadow-xl mb-4\">\n          <div className=\"card-body items-center flex flex-row\">\n            <h1 className='font-semibold '>Supervisor</h1>\n            <button \n              onClick={handleAddSupervisorClick}\n              className=\"btn btn-success btn-circle\">\n              <UserPlusIcon className={`h-6 w-6`}/>\n            </button>\n          </div>\n          </div>\n          <div className=\"card bg-base-100 shadow-xl\">\n            <div className=\"card-body\">\n            <table className=\"table w-full\">\n               <thead>\n                <tr>\n                  <th></th>\n                  <th>ful name</th>\n                  <th>email</th>\n                  <th>Active</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {supervisors}\n              </tbody>\n              </table>\n             </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Accounts\n"],"names":["React","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","usersQuery","useGetUsersQuery","navigate","useNavigate","_useDeleteUserMutatio","useDeleteUserMutation","deleteUser","_slicedToArray","_useUpdateUserMutatio","useUpdateUserMutation","updateUser","studentProfileQuery","useGetStudentProfilesQuery","handelDeletClick","unwrap","then","fulfilled","notifySuccess","catch","rejected","console","error","notifyError","str","toast","type","handelIsActiveClick","is_active","isSuccess","students","data","filter","u","map","e","index","profile","p","user","_jsxs","children","_jsx","first_name","last_name","email","is_group_leader","CheckBadgeIcon","color","width","className","onClick","UserMinusIcon","concat","PencilSquareIcon","supervisors","log","UserPlusIcon"],"sourceRoot":""}